<!DOCTYPE html>
<html lang="zh-CN" color-mode="light">

  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="keywords" content="" />
  <meta name="author" content="jpwang" />
  <meta name="description" content="Young, Simple &amp; Naive" />
  
  
  <title>
    
      大二下摸鱼记录 
      
      
      |
    
     jjppp
  </title>

  
    <link rel="apple-touch-icon" href="/images/favicon.png">
    <link rel="icon" href="/images/favicon.png">
  

  <!-- Raleway-Font -->
  <link href="https://fonts.googleapis.com/css?family=Raleway&display=swap" rel="stylesheet">

  <!-- hexo site css -->
  
<link rel="stylesheet" href="/css/color-scheme.css">
<link rel="stylesheet" href="/css/base.css">
<link rel="stylesheet" href="//at.alicdn.com/t/font_1886449_67xjft27j1l.css">
<link rel="stylesheet" href="/css/github-markdown.css">
<link rel="stylesheet" href="/css/highlight.css">
<link rel="stylesheet" href="/css/comments.css">

  <!-- 代码块风格 -->
  

  <!-- jquery3.3.1 -->
  
    <script defer type="text/javascript" src="/plugins/jquery.min.js"></script>
  

  <!-- fancybox -->
  
    <link href="/plugins/jquery.fancybox.min.css" rel="stylesheet">
    <script defer type="text/javascript" src="/plugins/jquery.fancybox.min.js"></script>
  
  
<script src="/js/fancybox.js"></script>


  

  <script>
    var html = document.documentElement
    const colorMode = localStorage.getItem('color-mode')
    if (colorMode) {
      document.documentElement.setAttribute('color-mode', colorMode)
    }
  </script>
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/atom.xml" title="jjppp" type="application/atom+xml">
</head>


  <body>
    <div id="app">
      <div class="header">
  <div class="avatar">
    <a href="/">
      <!-- 头像取消懒加载，添加no-lazy -->
      
        <img src="/images/avatar.png" alt="">
      
    </a>
    <div class="nickname"><a href="/">jjppp</a></div>
  </div>
  <div class="navbar">
    <ul>
      
        <li class="nav-item" data-path="/">
          <a href="/">Home</a>
        </li>
      
        <li class="nav-item" data-path="/archives/">
          <a href="/archives/">Archives</a>
        </li>
      
        <li class="nav-item" data-path="/tags/">
          <a href="/tags/">Tags</a>
        </li>
      
        <li class="nav-item" data-path="/friends/">
          <a href="/friends/">Friends</a>
        </li>
      
        <li class="nav-item" data-path="/about/">
          <a href="/about/">About</a>
        </li>
      
    </ul>
  </div>
</div>


<script src="/js/activeNav.js"></script>



      <div class="flex-container">
        <!-- 文章详情页，展示文章具体内容，url形式：https://yoursite/文章标题/ -->
<!-- 同时为「标签tag」，「朋友friend」，「分类categories」，「关于about」页面的承载页面，具体展示取决于page.type -->


  <!-- LaTex Display -->

  
    <script async type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
  
  <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      }
    }
  </script>





  <!-- clipboard -->

  
    <script async type="text/javascript" src="/plugins/clipboard.min.js"></script>
  
  
<script src="/js/codeCopy.js"></script>







  

  

  

  
  <!-- 文章内容页 url形式：https://yoursite/文章标题/ -->
  <div class="container post-details" id="post-details">
    <div class="post-content">
      <div class="post-title">大二下摸鱼记录</div>
      <div class="post-attach">
        <span class="post-pubtime">
          <i class="iconfont icon-updatetime" title="更新时间"></i>
          2022-06-20 15:18:15
        </span>
        
              <span class="post-tags">
                <i class="iconfont icon-tags" title="标签"></i>
                
                <span class="span--tag">
                  <a href="/tags/%E6%83%B3%E6%B3%95/" title="想法">
                    <b>#</b> 想法
                  </a>
                </span>
                
              </span>
          
      </div>
      <div class="markdown-body">
        <h2 id="大二下摸鱼记录">大二下摸鱼记录</h2>
<p>感觉已经失去了初入大学的那种锐气。越学越觉得自己不会的还多着，想做的东西总要被迫让位给GPA和考试。某些课程越发觉得无用，上课的老师也只是混混日子，我也就渐渐只会混混日子了。</p>
<h2 id="二月">二月</h2>
<p>在寒假的时候看完了ML4CS的大半本，顺便又看了一次冰菓。最开始看冰菓的时候并没有特别的感觉，只对万人的死角里的idea感到有些惊艳。等到我的高中生活离我远去了才觉着有趣，也是蛮新奇的体验吧。</p>
<p>在湖南待着的时候只觉得自己是异乡人。熟悉的亲人都在老去，我的同龄人都与我陌生了。走亲戚的时候只能尴尬笑一下。我承认这种感觉很不好，但这是我出生的地方，这大概算一点责任。</p>
<p>开学之后选课，思考了半天还是选上了OS和数电，免掉了算法课。说实话这么做我是心里没有底的，但是实在太想上jyy的课了。在呢喃读书四年，我不想临近毕业再去体验号称是最难作业的oslab。但事实上作业也没有想象的那么难，并且一轮下来发现讲课的风格也并没有那么喜欢...还是有点落差的。</p>
<p>二月份月底的时候和Charlie Jiang去了一趟新街口吃网红快餐，最后因为找不到座位打包去了另一家快餐店吃。Jiang同学是非常有个性的人，且不说坐1h地铁来回吃网红店这个行为，光是提着网红店的包装盒坐地铁就让我难以忍受别人的目光了。不过能够有这么一次体验也算是新奇。</p>
<h2 id="三月">三月</h2>
<p>在上大学之前就加入了526，算是社交生活的起点了。本来的教室被征用了，于是只好拖家带口搬到了楼下的411临时凑合。在526刷过丘维声的网课和教材，拆过破碎的智商税笔记本，玩过舞力全开，吹过口琴打过UNO，现在都成回忆了。</p>
<p>大概在三月底开始封校了，封校前和znr去了一趟玄武湖，结果最终也没有成功打卡相亲角，有点遗憾。</p>
<p>今年没有去鸡鸣寺。</p>
<h2 id="四月">四月</h2>
<p>封校的日子里，炜华变得很热闹。每晚都有唱歌、广场舞、夜跑、桌游，甚至还有调酒和蹦迪的，可以说是很快乐了。</p>
<p>526的一支成立了桌游分队，在炜华进行了第一次（大概也是最后一次）大型线下桌游活动。挺有意思的。看样子本来是个情感聊天局，最后变成了词穷telepath了</p>
<p>中途一直在咕咕咕oslab，因为L1实在写得太费心...听OS的感觉就是台上这个人看起来好厉害但是这和我有什么关系吗 的心情。OS的很大一部分都在PA4整完了，但是高阶内容又不可能一下子干完，所以就听得有点累，每次上完都要花一整晚看教材，再花另一整晚去看代码和翻wiki，感觉不是太值得。</p>
<h2 id="五月">五月</h2>
<p>花了三天就写完了oslab2，可以吹一年</p>
<p>校庆整了一个小小的摆摊，社团的活动仍然是老三样：认识网线，接网线，测网线。在最热闹的一天里也没有见到那个人，大概是再也见不到了。</p>
<p>520晚学校有看起来很屌的晚会和无人机表演，可惜门票限量发放。炜华里只放了1200人，剩下的都在教学楼的窗边、铁栏杆外围、图书馆前的大屏幕看表演，说实话不太人道。 晚上和znr还有lhr喝电气白兰，感觉不怎么好喝。顺便听来了几个小故事，还行吧。</p>
<p>后面还有校园打卡的活动，最后一站是天文台。上去了只觉得空虚，大热天也许不该走上天文山就为了拍一张照片，更不应该在天文台瘫坐着，于是就编了个理由回宿舍了。</p>
<p>月底去看了Groundhog Day的音乐剧。这部电影本来在waitlist里，现在也不太想再看一次了。歌魅还是很厉害的，动作和台词都很到位，场景道具精美。可惜的是因为莫名其妙的疫情管控原因，倒数第三排的我被赶到了二楼。这个角度不好又吹不到空调的地方着实不算好位置。第二场就更惨了，多余的同学直接被挡在了门外，事后也没有道歉和解释，差评</p>
<h2 id="六月">六月</h2>
<p>月初和桌游组出门唱歌，感觉大家虽然风格迥异但还是能玩得和谐的。</p>
<p>突然萌生了留长发的想法，在这之后越来越发觉周围的长发男变多了。</p>
<p>准备期末考试，然后考到了今天。</p>
<h1 id="课程踩坑">课程踩坑</h1>
<p>交换生系统里的ranking日常下掉，感觉自己是真的小丑</p>
<h2 id="操作系统">操作系统</h2>
<p>刚入学就听说很牛逼的一门课，事实上也很牛逼。这门课基本上都是jyy在单打独斗，所以能有完整的实验体验、丰富的拓展和充分的代码例子是很难得的。</p>
<p>实验是基于AM写的，因此屏蔽了很多ISA相关的细节（例如怎么做地址空间的虚拟化）。和大班最大的不同就是有完整的多核心支持，可以轻松写出并发bug，以及L1对性能有一些些要求，别的就没了。</p>
<p>理论都是些说烂了的东西，难的是怎么实现一个理论。再加上这门课提供了完整的课程录像，因此我觉得完全可以旁听然后做完整的实验，这样体验是相差无几的。</p>
<h2 id="算法设计与分析-4.65">算法设计与分析 4.65</h2>
<p>为了修OS就免修了算法，事实证明这一决定非常正确。算法课只会讲一些经典的简单算法，难的分析和论证老师自己也不太行...由于是三个班一起上，某些老师的水平就非常不够看，连带的助教也很睿智（无褒义），oj的题目非常迷惑，同学们也不知道到底学懂没有。</p>
<p>最后考试是两个原题+四个莫名其妙的设计和分析，1.5h就写完跑路了。就这还有人作弊...</p>
<p>upd: 感觉分数没有预期的高，但是无所谓了</p>
<h2 id="图论-4.6">图论 4.6</h2>
<p>莫名其妙的本研共修课，实际上全是本科生。作业难度一般，属于思考两天就能全部写完的水平。考试莫名其妙，要你模拟算法，证明题纯纯的送分，让我摸不着头脑。</p>
<p>最莫名其妙的是这课还搞回答问题加分 &amp; 论文分享加分 &amp; OJ附加题加分 &amp; 签到算分 的申必碎片化给分，有点无语。</p>
<p>但这是你基必修，没法。</p>
<h2 id="计算方法-4.95">计算方法 4.95</h2>
<p>可以感觉到新来的老师水平很高，也在努力想让大家学懂。不过看起来课程内容和一开始以为的计算方法不太一样，中途开始插入随机游走和谱图论的硬广。最后让yyt讲了两次的凸优化（感觉也没讲什么...）</p>
<p>平时作业不算难，两周交一次并且和课程内容比较相关。助教人很好（也许是因为和ofn关系很好...）会有答疑和参考答案。</p>
<p>期末考了很多计算题和线性规划，几道证明都是比较简单的结论应用，还是很友善的。</p>
<h2 id="数理逻辑-4.95">数理逻辑 4.95</h2>
<p>非常纱布的课程。首先数理逻辑是一门非常严谨的符号学科，但是学校用的课本错漏百出，甚至需要专门出一个勘误。其次写这个课本的人已经不教计科了，因此这本写得并不完整有些跳跃的课本看懂很费力气。最后目前负责上这门课的老师水平很低，具体表现为不会念定理的名字、不理解定理的含义就上课。考试甚至出现了抄原题抄错定义的情况，并且事后拒绝承认自己造成的教学事故。</p>
<p>期末只需要提前找好往年题目开抄就行了，80%是有重合的。</p>
<p>综上所述，这门课非常对不起它的历史地位和重要性，我的建议是能跑就跑，实在跑不了也不要跟着qy上。</p>
<p>upd: 这个得分属实惊到我了，但我还是希望能看到秦老师悔恨的泪水</p>
<h2 id="博弈论-4.8">博弈论 4.8</h2>
<p>意义不明的选修课。如果你从来没接触过博弈论，那么不妨一上；如果你之前见过类似的东西，那么可能这门课没法带来新知识。课程名叫博弈论及其应用，实际上更适合叫纳什均衡及其计算。</p>
<p>很多时候课程的内容都是要计算一个纳什均衡，然后就是针对不同的模型做不同的计算和建模，更像是金融会感兴趣的东西。考试不算难，基本没有什么障碍。中途一次的大作业做起来有些费力，需要学一些额外的知识才能做得比较好。最重要的，这门课在周五的晚上，比较折磨。</p>
<p>属于不太值得专门来选，但是有闲可以上一下的选修课。</p>
<h2 id="数电计组-4.45">数电计组 4.45</h2>
<p>刚刚考完这门</p>
<p>课程内容没什么新东西，我之前上过ICS和OS了，这学期还做了数电实验，所以上起来没什么感觉...去年的时候同学普遍反馈学不懂，今年的学弟学妹反应也类似，感觉更像是课程安排和老师授课的问题。</p>
<p>实验很无聊，需要费眼睛硬连线，不过最后跑起来还是挺有成就感的。</p>
<p>考试似乎没啥难的，除了连线有点虚以外没什么槽点...等出分看看吧</p>
<h2 id="数电实验-4.85">数电实验 4.85</h2>
<p>主要是写verilog，需要有一点debug的耐心和配环境的耐心（如果你恰好也是linux+AMD选手的话要忍受额外的折磨）</p>
<p>最后的大实验主要靠队友调好了基本的IO（主要是键盘和VGA）我才得以开始干活。最后花了点时间写了个可有可无的2段流水CPU，也算是差不多了。</p>
<p>最后给分还很不错，看来重修班确实不错。</p>
<h2 id="太极拳-4.35">太极拳 4.35</h2>
<p>据说是这位老师的最后一年授课，感觉没什么参考价值。</p>
<p>这学期整整上了两个月网课，因此中途都没有线下体育。并且最后只考察四个基本动作，还是没什么压力的。</p>
<h2 id="杂项">杂项</h2>
<p>选了一门网课，还算行吧，以后都没了。 选了一门数电实验，主要是最后一个实验比较折磨人，别的都还挺好玩。</p>

      </div>
      
        <div class="prev-or-next">
          <div class="post-foot-next">
            
              <a href="/2022/06/15/%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%9507-%E7%94%B5%E9%98%BB%E7%BD%91%E7%BB%9C/" target="_self">
                <i class="iconfont icon-chevronleft"></i>
                <span>上一页</span>
              </a>
            
          </div>
          <div class="post-attach">
            <span class="post-pubtime">
              <i class="iconfont icon-updatetime" title="更新时间"></i>
              2022-06-20 15:18:15
            </span>
            
                  <span class="post-tags">
                    <i class="iconfont icon-tags" title="标签"></i>
                    
                    <span class="span--tag">
                      <a href="/tags/%E6%83%B3%E6%B3%95/" title="想法">
                        <b>#</b> 想法
                      </a>
                    </span>
                    
                  </span>
              
          </div>
          <div class="post-foot-prev">
            
              <a href="/2022/06/23/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-Lab3-uproc/" target="_self">
                <span>下一页</span>
                <i class="iconfont icon-chevronright"></i>
              </a>
            
          </div>
        </div>
      
    </div>
    
  <div id="btn-catalog" class="btn-catalog">
    <i class="iconfont icon-catalog"></i>
  </div>
  <div class="post-catalog hidden" id="catalog">
    <div class="title">目录</div>
    <div class="catalog-content">
      
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%A7%E4%BA%8C%E4%B8%8B%E6%91%B8%E9%B1%BC%E8%AE%B0%E5%BD%95"><span class="toc-text">大二下摸鱼记录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E6%9C%88"><span class="toc-text">二月</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E6%9C%88"><span class="toc-text">三月</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E6%9C%88"><span class="toc-text">四月</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E6%9C%88"><span class="toc-text">五月</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E6%9C%88"><span class="toc-text">六月</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AF%BE%E7%A8%8B%E8%B8%A9%E5%9D%91"><span class="toc-text">课程踩坑</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="toc-text">操作系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90-4.65"><span class="toc-text">算法设计与分析 4.65</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BE%E8%AE%BA-4.6"><span class="toc-text">图论 4.6</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95-4.95"><span class="toc-text">计算方法 4.95</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%90%86%E9%80%BB%E8%BE%91-4.95"><span class="toc-text">数理逻辑 4.95</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%9A%E5%BC%88%E8%AE%BA-4.8"><span class="toc-text">博弈论 4.8</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%94%B5%E8%AE%A1%E7%BB%84-4.45"><span class="toc-text">数电计组 4.45</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%94%B5%E5%AE%9E%E9%AA%8C-4.85"><span class="toc-text">数电实验 4.85</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%AA%E6%9E%81%E6%8B%B3-4.35"><span class="toc-text">太极拳 4.35</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%82%E9%A1%B9"><span class="toc-text">杂项</span></a></li></ol>
      
    </div>
  </div>

  
<script src="/js/catalog.js"></script>




    
      <div class="comments-container">
        




  
    <script async type="text/javascript" src="/plugins/valine.min.js" onload="loadValineSuc(this)"></script>
  

  <div id="vcomments"></div>

  <script>
    function loadValineSuc() {
      new Valine({
        el: '#vcomments',
        appId: 'Q8q82ykDfbCKbcs94fM4J7Y7-gzGzoHsz',
        appKey: '11q17qeyEiLeiMWxGw7qjtKR',
        placeholder: 'Welcome!',
        avatar: 'retro',
        lang: 'zh-CN'
      })
    }
  </script>

    <style>
      .comments-container .v .vempty {
        display: none!important;
      }
    </style>




      </div>
    
  </div>


        
<div class="footer">
  <div class="social">
    <ul>
      
        <li>
          <a title="github" target="_blank" rel="noopener" href="https://github.com/olahiuj">
            <i class="iconfont icon-github"></i>
          </a>
        </li>
      
        <li>
          <a title="email" href="mailto:jpwang@smail.nju.edu.cn">
            <i class="iconfont icon-envelope"></i>
          </a>
        </li>
      
        <li>
          <a title="rss" href="/atom.xml">
            <i class="iconfont icon-rss"></i>
          </a>
        </li>
      
    </ul>
  </div>
  
    
    <div class="footer-more">
      
        <a target="_blank" rel="noopener" href="https://github.com/olahiuj">Copyright © 2022 jjppp</a>
        
    </div>
  
    
    <div class="footer-more">
      
        <a target="_blank" rel="noopener" href="https://github.com/zchengsite/hexo-theme-oranges">Theme by Oranges | Powered by Hexo</a>
        
    </div>
  
</div>

      </div>

      <div class="tools-bar">
        <div class="back-to-top tools-bar-item hidden">
  <a href="javascript: void(0)">
    <i class="iconfont icon-chevronup"></i>
  </a>
</div>


<script src="/js/backtotop.js"></script>



        
  <div class="search-icon tools-bar-item" id="search-icon">
    <a href="javascript: void(0)">
      <i class="iconfont icon-search"></i>
    </a>
  </div>

  <div class="search-overlay hidden">
    <div class="search-content" tabindex="0">
      <div class="search-title">
        <span class="search-icon-input">
          <a href="javascript: void(0)">
            <i class="iconfont icon-search"></i>
          </a>
        </span>
        
          <input type="text" class="search-input" id="search-input" placeholder="搜索...">
        
        <span class="search-close-icon" id="search-close-icon">
          <a href="javascript: void(0)">
            <i class="iconfont icon-close"></i>
          </a>
        </span>
      </div>
      <div class="search-result" id="search-result"></div>
    </div>
  </div>

  <script type="text/javascript">
    var inputArea = document.querySelector("#search-input")
    var searchOverlayArea = document.querySelector(".search-overlay")

    inputArea.onclick = function() {
      getSearchFile()
      this.onclick = null
    }

    inputArea.onkeydown = function() {
      if(event.keyCode == 13)
        return false
    }

    function openOrHideSearchContent() {
      let isHidden = searchOverlayArea.classList.contains('hidden')
      if (isHidden) {
        searchOverlayArea.classList.remove('hidden')
        document.body.classList.add('hidden')
        // inputArea.focus()
      } else {
        searchOverlayArea.classList.add('hidden')
        document.body.classList.remove('hidden')
      }
    }

    function blurSearchContent(e) {
      if (e.target === searchOverlayArea) {
        openOrHideSearchContent()
      }
    }

    document.querySelector("#search-icon").addEventListener("click", openOrHideSearchContent, false)
    document.querySelector("#search-close-icon").addEventListener("click", openOrHideSearchContent, false)
    searchOverlayArea.addEventListener("click", blurSearchContent, false)

    var searchFunc = function (path, search_id, content_id) {
      'use strict';
      var $input = document.getElementById(search_id);
      var $resultContent = document.getElementById(content_id);
      $resultContent.innerHTML = "<ul><span class='local-search-empty'>首次搜索，正在载入索引文件，请稍后……<span></ul>";
      $.ajax({
        // 0x01. load xml file
        url: path,
        dataType: "xml",
        success: function (xmlResponse) {
          // 0x02. parse xml file
          var datas = $("entry", xmlResponse).map(function () {
            return {
              title: $("title", this).text(),
              content: $("content", this).text(),
              url: $("url", this).text()
            };
          }).get();
          $resultContent.innerHTML = "";

          $input.addEventListener('input', function () {
            // 0x03. parse query to keywords list
            var str = '<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length <= 0) {
              return;
            }
            // 0x04. perform local searching
            datas.forEach(function (data) {
              var isMatch = true;
              var content_index = [];
              if (!data.title || data.title.trim() === '') {
                data.title = "Untitled";
              }
              var orig_data_title = data.title.trim();
              var data_title = orig_data_title.toLowerCase();
              var orig_data_content = data.content.trim().replace(/<[^>]+>/g, "");
              var data_content = orig_data_content.toLowerCase();
              var data_url = data.url;
              var index_title = -1;
              var index_content = -1;
              var first_occur = -1;
              // only match artiles with not empty contents
              if (data_content !== '') {
                keywords.forEach(function (keyword, i) {
                  index_title = data_title.indexOf(keyword);
                  index_content = data_content.indexOf(keyword);

                  if (index_title < 0 && index_content < 0) {
                    isMatch = false;
                  } else {
                    if (index_content < 0) {
                      index_content = 0;
                    }
                    if (i == 0) {
                      first_occur = index_content;
                    }
                    // content_index.push({index_content:index_content, keyword_len:keyword_len});
                  }
                });
              } else {
                isMatch = false;
              }
              // 0x05. show search results
              if (isMatch) {
                str += "<li><a href='" + data_url + "' class='search-result-title'>" + orig_data_title + "</a>";
                var content = orig_data_content;
                if (first_occur >= 0) {
                  // cut out 100 characters
                  var start = first_occur - 20;
                  var end = first_occur + 80;

                  if (start < 0) {
                    start = 0;
                  }

                  if (start == 0) {
                    end = 100;
                  }

                  if (end > content.length) {
                    end = content.length;
                  }

                  var match_content = content.substr(start, end);

                  // highlight all keywords
                  keywords.forEach(function (keyword) {
                    var regS = new RegExp(keyword, "gi");
                    match_content = match_content.replace(regS, "<span class=\"search-keyword\">" + keyword + "</span>");
                  });

                  str += "<p class=\"search-result-abstract\">" + match_content + "...</p>"
                }
                str += "</li>";
              }
            });
            str += "</ul>";
            if (str.indexOf('<li>') === -1) {
              return $resultContent.innerHTML = "<ul><span class='local-search-empty'>没有找到内容，请尝试更换检索词。<span></ul>";
            }
            $resultContent.innerHTML = str;
          });
        },
        error: function(xhr, status, error) {
          $resultContent.innerHTML = ""
          if (xhr.status === 404) {
            $resultContent.innerHTML = "<ul><span class='local-search-empty'>未找到search.xml文件，具体请参考：<a href='https://github.com/zchengsite/hexo-theme-oranges#configuration' target='_black'>configuration</a><span></ul>";
          } else {
            $resultContent.innerHTML = "<ul><span class='local-search-empty'>请求失败，尝试重新刷新页面或稍后重试。<span></ul>";
          }
        }
      });
      $(document).on('click', '#search-close-icon', function() {
        $('#search-input').val('');
        $('#search-result').html('');
      });
    }

    var getSearchFile = function() {
        var path = "/search.xml";
        searchFunc(path, 'search-input', 'search-result');
    }
  </script>




        
  <div class="tools-bar-item theme-icon" id="switch-color-scheme">
    <a href="javascript: void(0)">
      <i id="theme-icon" class="iconfont icon-moon"></i>
    </a>
  </div>

  
<script src="/js/colorscheme.js"></script>





        
  
    <div class="share-icon tools-bar-item">
      <a href="javascript: void(0)" id="share-icon">
        <i class="iconfont iconshare"></i>
      </a>
      <div class="share-content hidden">
        
        
      </div>
    </div>
  
  
<script src="/js/shares.js"></script>



      </div>
    </div>
  </body>
</html>
